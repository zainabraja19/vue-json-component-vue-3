(function(u,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(u=typeof globalThis<"u"?globalThis:u||self,e(u["vue-json-component-vue-3"]={},u.Vue))})(this,function(u,e){"use strict";const ee="",x={class:"json-view-item"},A={key:0},j=["aria-expanded","onClick"],C={style:{display:"inline-block","vertical-align":"middle"}},$={key:0},Z={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"var(--vjc-key-color)",viewBox:"0 0 256 256"},_=[e.createElementVNode("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),e.createElementVNode("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm45.66-93.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32-11.32L148.69,136H88a8,8,0,0,1,0-16h60.69l-18.35-18.34a8,8,0,0,1,11.32-11.32Z"},null,-1)],q={key:1},M=["innerHTML"],L={key:2},O={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"var(--vjc-key-color)",viewBox:"0 0 256 256"},P=[e.createElementVNode("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),e.createElementVNode("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"},null,-1)],D={key:3},F=["innerHTML"],K={style:{display:"inline-block","margin-left":"0.5em"}},T={style:{display:"inline-block","margin-left":"0.5em"},class:"properties"},H={style:{display:"inline-block","vertical-align":"middle"}},z=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"var(--vjc-key-color)",viewBox:"0 0 256 256"},[e.createElementVNode("path",{d:"M221.9,61.38l-67.74,72.31a8,8,0,0,0-2.16,5.47v55.49a8,8,0,0,1-3.56,6.66l-32,21.33A8,8,0,0,1,104,216V139.16a8,8,0,0,0-2.16-5.47L34.1,61.38A8,8,0,0,1,40,48H216A8,8,0,0,1,221.9,61.38Z",opacity:"0.2"}),e.createElementVNode("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm108.34,72.28A15.92,15.92,0,0,0,144,139.17v55.49L112,216V139.17a15.92,15.92,0,0,0-4.32-10.94L40,56H216Z"})],-1)],J=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"darkred",viewBox:"0 0 256 256"},[e.createElementVNode("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),e.createElementVNode("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})],-1)],I=["role","tabindex"],G={class:"value-key"},Q=["v-html"],R=["innerHTML"],U=e.defineComponent({name:"json-view-item"}),W=Object.assign(U,{props:{data:{required:!0,type:Object},selected_dev_row:{required:!1,default:"",type:String},maxDepth:{type:Number,required:!1,default:1},firstKey:{type:Boolean,required:!1,default:!0},canSelect:{type:Boolean,required:!1,default:!1},noBorder:{type:Boolean,required:!1,default:!1},useFilter:{type:Boolean,required:!1,default:!1},customParams:{type:Object,required:!1,default:()=>{}},arrowExpand:{type:[String,Number],required:!1,default:""},arrowCollapse:{type:[String,Number],required:!1,default:""},length_of_value:{type:Number,required:!1,default:50},use_ellipsis:{type:Boolean,required:!1,default:!1}},emits:["selected","filter"],setup(t,{emit:p}){const l=t,d=e.ref(!1),i=e.ref(l.data.depth<l.maxDepth),E=()=>{i.value=!i.value},g=e.computed(()=>l.length_of_value<1?50:l.length_of_value),k=a=>{p("selected",{key:a.key,value:a.value,path:a.path,depth:a.depth})},n=(a,o=!1)=>{let B=a.path.split(".");B.pop();let y=Number.isFinite(Number(a.key))?B.join("."):`${B.join(".")}.${a.key}`;a.path.slice(0,-1)===y&&(y=y+`[${a.key}]`),p("filter",{key:a.key,type:a.type,path:a.path,depth:a.depth,selected_path:y,reset:o})},r=a=>{p("selected",a)},c=a=>isNaN(a.key)?'"'+a.key+'":':a.key+":",s=a=>{switch(typeof a){case"string":return{color:"var(--vjc-string-color)"};case"number":return{color:"var(--vjc-number-color)"};case"boolean":return{color:a?"var(--vjc-boolean-color-true)":"var(--vjc-boolean-color-false)"};case"object":return{color:"var(--vjc-null-color)"};case"undefined":return{color:"var(--vjc-null-color)"};default:return{color:"var(--vjc-valueKey-color)"}}},w=e.computed(()=>({"value-key":!0,"can-select":l.canSelect})),m=e.computed(()=>{var a,o;return l.data.type==="array"?(a=l==null?void 0:l.customParams)!=null&&a.item?l.data.length===1?`${l.data.length} ${l.customParams.item[0]}`:`${l.data.length} ${l.customParams.item[1]}`:l.data.length===1?l.data.length+" item":l.data.length+" items":(o=l==null?void 0:l.customParams)!=null&&o.item?l.data.length===1?`${l.data.length} ${l.customParams.property[0]}`:`${l.data.length} ${l.customParams.property[1]}`:l.data.length===1?l.data.length+" property":l.data.length+" properties"}),h='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="blue" viewBox="0 0 256 256"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"></path><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm56-88a12,12,0,1,1-12-12A12,12,0,0,1,184,128Zm-44,0a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm-44,0a12,12,0,1,1-12-12A12,12,0,0,1,96,128Z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green" viewBox="0 0 256 256"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"></path><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm12-88a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm0-44a12,12,0,1,1-12-12A12,12,0,0,1,140,84Zm0,88a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"></path></svg>';return(a,o)=>{var y,S,V;const B=e.resolveComponent("json-view-item");return e.openBlock(),e.createElementBlock("div",x,[t.data.type==="object"||t.data.type==="array"?(e.openBlock(),e.createElementBlock("div",A,[e.createElementVNode("div",null,[e.createElementVNode("span",{"aria-expanded":i.value?"true":"false",class:"data-key me-3",onClick:e.withModifiers(E,["stop"])},[e.createElementVNode("div",C,[t.arrowExpand?(e.openBlock(),e.createElementBlock("span",q,[i.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:t.arrowExpand},null,8,M))])):(e.openBlock(),e.createElementBlock("span",$,[i.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("svg",Z,_))])),t.arrowCollapse?(e.openBlock(),e.createElementBlock("span",D,[i.value?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:t.arrowCollapse},null,8,F)):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("span",L,[i.value?(e.openBlock(),e.createElementBlock("svg",O,P)):e.createCommentVNode("",!0)]))]),e.createElementVNode("div",K,[e.renderSlot(a.$slots,"dataKey"),e.createTextVNode(" "+e.toDisplayString(t.data.key)+": ",1)]),e.createElementVNode("div",T,e.toDisplayString(m.value),1)],8,j),e.createElementVNode("div",H,[!t.firstKey&&t.useFilter?(e.openBlock(),e.createElementBlock("div",{key:0,class:"hover",onClick:o[0]||(o[0]=f=>n(t.data))},z)):t.firstKey&&t.selected_dev_row&&t.useFilter?(e.openBlock(),e.createElementBlock("div",{key:1,class:"hover",onClick:o[1]||(o[1]=f=>n(t.data,!0))},J)):e.createCommentVNode("",!0)])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.children,f=>e.withDirectives((e.openBlock(),e.createBlock(B,{key:c(f),data:f,maxDepth:t.maxDepth,canSelect:t.canSelect,style:e.normalizeStyle({border:t.noBorder?"none":""}),firstKey:!1,arrowExpand:t.arrowExpand,customParams:t.customParams,length_of_value:t.length_of_value,noBorder:t.noBorder,arrowCollapse:t.arrowCollapse,useFilter:t.useFilter,use_ellipsis:t.use_ellipsis,onFilter:o[2]||(o[2]=N=>a.$emit("filter",N)),onSelected:r},null,8,["data","maxDepth","canSelect","style","arrowExpand","customParams","length_of_value","noBorder","arrowCollapse","useFilter","use_ellipsis"])),[[e.vShow,i.value]])),128))])):e.createCommentVNode("",!0),t.data.type==="value"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(w.value),onClick:o[4]||(o[4]=f=>k(t.data)),onKeyup:[o[5]||(o[5]=e.withKeys(f=>k(t.data),["enter"])),o[6]||(o[6]=e.withKeys(f=>k(t.data),["space"]))],role:t.canSelect?"button":void 0,tabindex:t.canSelect?"0":void 0},[e.createElementVNode("span",G,[e.renderSlot(a.$slots,"dataKey"),e.createTextVNode(" "+e.toDisplayString(t.data.key)+": ",1)]),t.use_ellipsis?(e.openBlock(),e.createElementBlock("span",{key:1,style:e.normalizeStyle(s(t.data.value)),class:e.normalizeClass(d.value?"showOverflow hover":"hideOverflow hover")},[e.renderSlot(a.$slots,"dataValue"),e.createTextVNode(" "+e.toDisplayString(((y=t.data.value)==null?void 0:y.length)>g.value?d.value?t.data.value:(S=t.data.value)==null?void 0:S.slice(0,g.value):t.data.value)+" ",1),((V=t.data.value)==null?void 0:V.length)>g.value?(e.openBlock(),e.createElementBlock("span",{key:0,onClick:o[3]||(o[3]=f=>{var N;return((N=t.data.value)==null?void 0:N.length)>g.value?d.value=!d.value:""}),innerHTML:d.value?b:h},null,8,R)):e.createCommentVNode("",!0)],6)):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass("showOverflow"),"v-html":t.data.value,style:e.normalizeStyle(s(t.data.value))},null,12,Q))],42,I)):e.createCommentVNode("",!0)])}}}),se="",X=e.defineComponent({name:"json-view"}),v=Object.assign(X,{props:{data:{required:!0},rootKey:{type:String,required:!1,default:"root"},selected_dev_row:{required:!1,default:""},maxDepth:{type:Number,required:!1,default:1},colorScheme:{type:String,required:!1,default:"light"},customParams:{type:Object,required:!1,default:()=>{}},useFilter:{type:Boolean,required:!1,default:!1},noBorder:{type:Boolean,required:!1,default:!1},arrowExpand:{type:[String,Number],required:!1,default:""},arrowCollapse:{type:[String,Number],required:!1,default:""},length_of_value:{type:Number,required:!1,default:50},use_ellipsis:{type:Boolean,required:!1,default:!1}},emits:["selected","filter","filteredDataPath"],setup(t,{emit:p}){const l=t,d=(n,r,c,s,w)=>{if(i(r)){let m=[];for(let[h,b]of Object.entries(r))m.push(d(h,b,c+1,w?`${s}${n}.`:`${s}`,!0));return{key:n,type:"object",depth:c,path:s,length:m.length,children:m}}else if(E(r)){let m=[];for(let h=0;h<r.length;h++)m.push(d(h.toString(),r[h],c+1,w?`${s}${n}[${h}].`:`${s}`,!1));return{key:n,type:"array",depth:c,path:s,length:m.length,children:m}}else return{key:n,type:"value",path:w?s+n:s.slice(0,-1),depth:c,value:r}},i=n=>typeof n=="object"&&n!==null&&!E(n),E=n=>Array.isArray(n),g=n=>{p("selected",n)},k=e.computed(()=>typeof l.data=="object"?d(l.rootKey,{...l.data},0,"",!0):{key:l.rootKey,type:"value",path:"",depth:0,value:l.data});return e.ref(),e.ref(),(n,r)=>(e.openBlock(),e.createBlock(W,{class:e.normalizeClass([{"root-item":!0,dark:t.colorScheme==="dark"}]),data:k.value,maxDepth:t.maxDepth,firstKey:!0,selected_dev_row:t.selected_dev_row,arrowExpand:t.arrowExpand,arrowCollapse:t.arrowCollapse,useFilter:t.useFilter,customParams:t.customParams,noBorder:t.noBorder,length_of_value:t.length_of_value,use_ellipsis:t.use_ellipsis,onSelected:g,onFilter:r[0]||(r[0]=c=>{n.$emit("filter",c)})},null,8,["class","data","maxDepth","selected_dev_row","arrowExpand","arrowCollapse","useFilter","customParams","noBorder","length_of_value","use_ellipsis"]))}}),Y={install:(t,p)=>{t.component("JSONView",v)}};u.JSONView=v,u.default=Y,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
